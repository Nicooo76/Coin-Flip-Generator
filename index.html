/**
 * Coin Flip Generator
 * https://github.com/Nicooo76/Coin-Flip-Generator
 *
 * Copyright (c) 2026 Sven Gauditz
 * https://gauditz.com
 *
 * Licensed under the MIT License.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */

<!doctype html>
<html lang="de">
<head>
<!--
  Coin Flip Generator
  https://github.com/Nicooo76/Coin-Flip-Generator

  Copyright (c) 2026 Sven Gauditz
  https://gauditz.com

  Licensed under the MIT License.
-->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>M√ºnzwurf Deluxe ‚Äì Mobile Fix</title>
  <style>
    :root{
      --bg0:#07090d;
      --bg1:#0a1018;
      --card: rgba(255,255,255,.06);
      --card2: rgba(255,255,255,.04);
      --stroke: rgba(255,255,255,.10);
      --stroke2: rgba(255,255,255,.14);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.68);
      --muted2: rgba(255,255,255,.55);
      --accent: #79e2ff;
      --accent2:#ffdf7a;
      --shadow: 0 18px 70px rgba(0,0,0,.55);
      --r: 22px;
      --blur: 10px;
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;

      /* Mobile sizing */
      --stageH: 520px;
      --canvasMax: 340px;
      --gap: 14px;

      /* iOS safe area */
      --safeTop: env(safe-area-inset-top, 0px);
      --safeRight: env(safe-area-inset-right, 0px);
      --safeBottom: env(safe-area-inset-bottom, 0px);
      --safeLeft: env(safe-area-inset-left, 0px);
    }
    [data-theme="light"]{
      --bg0:#f6f7fb;
      --bg1:#eef2ff;
      --card: rgba(0,0,0,.05);
      --card2: rgba(0,0,0,.03);
      --stroke: rgba(0,0,0,.10);
      --stroke2: rgba(0,0,0,.14);
      --text: rgba(0,0,0,.88);
      --muted: rgba(0,0,0,.62);
      --muted2: rgba(0,0,0,.52);
      --shadow: 0 18px 60px rgba(0,0,0,.18);
    }

    *{ box-sizing:border-box; }
    html, body{ height:100%; }
    body{
      margin:0;
      font-family: var(--font);
      color: var(--text);
      background:
        radial-gradient(1000px 600px at 20% 10%, rgba(121,226,255,.14), transparent 60%),
        radial-gradient(1000px 600px at 80% 15%, rgba(255,223,122,.12), transparent 60%),
        radial-gradient(900px 700px at 50% 95%, rgba(255,255,255,.08), transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg0));
		background-attachment: fixed;
  background-repeat: no-repeat;
  background-size: cover;

      /* MOBILE FIX: no center, allow scroll */
      display:block;
      overflow-x:hidden;

      padding:
        calc(14px + var(--safeTop))
        calc(14px + var(--safeRight))
        calc(14px + var(--safeBottom))
        calc(14px + var(--safeLeft));
    }

    /* Layout */
    .app{
      width: min(1100px, 100%);
      margin: 0 auto;
      display:grid;
      grid-template-columns: 1.35fr .95fr;
      gap: var(--gap);
      align-items:start;
    }

    /* MOBILE: one column + better stage sizing */
    @media (max-width: 980px){
      :root{
        --gap: 12px;
        --stageH: 520px;
        --canvasMax: 320px;
      }
      .app{ grid-template-columns: 1fr; }
    }

    /* Very small phones */
    @media (max-width: 420px){
      :root{
        --stageH: 500px;
        --canvasMax: 290px;
      }
    }

    /* Landscape phones: reduce height, avoid huge empty */
    @media (max-height: 520px) and (max-width: 980px){
      :root{
        --stageH: 420px;
        --canvasMax: 260px;
      }
    }

    .card{
      background: linear-gradient(180deg, var(--card), var(--card2));
      border:1px solid var(--stroke);
      border-radius: var(--r);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
      min-width: 0; /* important for grid on mobile */
    }

    .header{
      padding:16px 16px 12px 16px;
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap; /* mobile: wrap pills */
    }
    .titleWrap{ min-width:0; flex: 1 1 260px; }
    .title{
      margin:0;
      font-size:18px;
      font-weight:1000;
      letter-spacing:.2px;
      line-height:1.1;
    }
    .sub{
      margin:8px 0 0 0;
      font-size:13px;
      color: var(--muted);
      line-height:1.35;
    }

    .pillRow{
      display:flex;
      gap:8px;
      align-items:center;
      flex-wrap:wrap;
      justify-content:flex-end;
      flex: 0 1 auto;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background: rgba(0,0,0,.08);
      backdrop-filter: blur(var(--blur));
      -webkit-backdrop-filter: blur(var(--blur));
      font-size:12px;
      color: var(--muted);
      user-select:none;
      white-space:nowrap;
    }
    [data-theme="light"] .pill{ background: rgba(255,255,255,.55); }
    .dot{
      width:9px; height:9px; border-radius:50%;
      background: var(--accent);
      box-shadow: 0 0 14px rgba(121,226,255,.55);
    }

    /* Stage */
    .stage{
      height: var(--stageH);
      position:relative;
      border-top:1px solid var(--stroke);
      overflow:hidden;
      background:
        radial-gradient(900px 480px at 50% 85%, rgba(255,255,255,.12), transparent 62%),
        radial-gradient(600px 380px at 20% 20%, rgba(121,226,255,.10), transparent 60%),
        radial-gradient(600px 380px at 80% 25%, rgba(255,223,122,.08), transparent 60%),
        linear-gradient(180deg, rgba(0,0,0,.10), rgba(0,0,0,.02));
    }
    [data-theme="light"] .stage{
      background:
        radial-gradient(900px 480px at 50% 85%, rgba(0,0,0,.08), transparent 62%),
        radial-gradient(600px 380px at 20% 20%, rgba(121,226,255,.16), transparent 60%),
        radial-gradient(600px 380px at 80% 25%, rgba(255,223,122,.14), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.40), rgba(255,255,255,.18));
    }

    .grid{
      position:absolute; inset:0;
      background:
        linear-gradient(rgba(255,255,255,.06) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,.06) 1px, transparent 1px);
      background-size: 44px 44px;
      opacity:.28;
      mask-image: radial-gradient(circle at 50% 70%, rgba(0,0,0,.85), transparent 70%);
      pointer-events:none;
    }
    [data-theme="light"] .grid{ opacity:.22; }

    .hud{
      position:absolute;
      left:14px;
      top:14px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      pointer-events:none;
      z-index:4;
    }
    .hud .tag{
      border:1px solid var(--stroke);
      background: rgba(0,0,0,.18);
      border-radius: 999px;
      padding:8px 10px;
      font-size:12px;
      color: var(--muted);
      backdrop-filter: blur(var(--blur));
      -webkit-backdrop-filter: blur(var(--blur));
    }
    [data-theme="light"] .hud .tag{ background: rgba(255,255,255,.55); }

    /* Canvas center */
    .coinCanvasWrap{
      position:absolute;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;

      /* MOBILE FIX: ensure room for hint + footer, no overlap */
      padding: 46px 14px 110px 14px;
      z-index:2;
    }

    #coinCanvas{
      width: min(var(--canvasMax), 92vw);
      height: auto;
      aspect-ratio: 1 / 1;
      border-radius: 26px;
      background: rgba(0,0,0,.08);
      border:1px solid rgba(255,255,255,.06);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.05);
      display:block;
    }
    [data-theme="light"] #coinCanvas{
      background: rgba(255,255,255,.55);
      border-color: rgba(0,0,0,.06);
    }

    /* Hint bar */
    .hint{
      position:absolute;
      left:12px;
      right:12px;
      bottom:12px;
      border:1px solid var(--stroke);
      background: rgba(0,0,0,.18);
      border-radius: 14px;
      padding:10px 12px;
      font-size:12px;
      color: var(--muted);
      backdrop-filter: blur(var(--blur));
      -webkit-backdrop-filter: blur(var(--blur));
      display:flex;
      gap:10px;
      align-items:center;
      z-index:4;
      flex-wrap:wrap;

      /* MOBILE FIX: never cover safe-area */
      margin-bottom: var(--safeBottom);
    }
    [data-theme="light"] .hint{ background: rgba(255,255,255,.55); }
    .kbd{
      border:1px solid var(--stroke2);
      border-bottom-color: rgba(0,0,0,.25);
      padding:4px 8px;
      border-radius:10px;
      font-weight:900;
      color: var(--text);
      background: rgba(255,255,255,.07);
      white-space:nowrap;
    }
    [data-theme="light"] .kbd{
      background: rgba(0,0,0,.05);
      border-bottom-color: rgba(0,0,0,.18);
    }

    /* Footer */
    .footer{
      border-top:1px solid var(--stroke);
      padding:14px;
      display:grid;
      gap:12px;
    }

    .row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
    }
    .btnRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      width:100%;
    }
    .btnRow:last-child{ width:auto; }

    button{
      appearance:none;
      border:1px solid var(--stroke2);
      background: rgba(255,255,255,.06);
      color: var(--text);
      padding:12px 14px;
      border-radius: 16px;
      cursor:pointer;
      font-weight:1000;
      letter-spacing:.2px;
      transition: transform .06s ease, background .18s ease, border-color .18s ease;
      display:inline-flex;
      gap:10px;
      align-items:center;
      user-select:none;
      flex: 1 1 auto;
      justify-content:center;
      min-height: 44px; /* mobile tap target */
    }
    button:hover{
      background: rgba(255,255,255,.10);
      border-color: rgba(255,255,255,.25);
    }
    button:active{ transform: scale(.985); }
    button:disabled{ opacity:.55; cursor:not-allowed; }

    /* MOBILE FIX: 2 buttons per row, then full width for copy */
    @media (max-width: 520px){
      button{ flex: 1 1 calc(50% - 10px); }
      #btnCopy{ flex: 1 1 100%; }
      #btnReset{ flex: 1 1 100%; }
    }

    .primary{
      background:
        radial-gradient(circle at 20% 20%, rgba(121,226,255,.22), transparent 42%),
        linear-gradient(180deg, rgba(121,226,255,.18), rgba(255,255,255,.06));
      border-color: rgba(121,226,255,.38);
    }
    .primary:hover{
      border-color: rgba(121,226,255,.55);
      background:
        radial-gradient(circle at 20% 20%, rgba(121,226,255,.28), transparent 42%),
        linear-gradient(180deg, rgba(121,226,255,.22), rgba(255,255,255,.08));
    }
    .danger{ border-color: rgba(255,107,107,.40); }

    .resultBar{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:flex-start;
      justify-content:space-between;
      border:1px solid var(--stroke);
      background: rgba(0,0,0,.16);
      border-radius: 18px;
      padding:12px;
      backdrop-filter: blur(var(--blur));
      -webkit-backdrop-filter: blur(var(--blur));
    }
    [data-theme="light"] .resultBar{ background: rgba(255,255,255,.55); }
    .resultText{
      font-weight:1000;
      letter-spacing:.2px;
      font-size:16px;
      display:flex;
      gap:10px;
      align-items:center;
      min-width: 220px;
      flex: 1 1 220px;
    }
    .miniLine{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      align-items:center;
      color: var(--muted);
      font-size:12px;
      flex: 1 1 220px;
      justify-content:flex-end;
    }
    @media (max-width: 520px){
      .miniLine{ justify-content:flex-start; }
    }

    .badge{
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.05);
      padding:6px 10px;
      border-radius:999px;
      font-size:12px;
      color: var(--muted);
      white-space:nowrap;
    }
    .spark{
      color: var(--accent2);
      filter: drop-shadow(0 0 12px rgba(255,223,122,.25));
    }

    /* Right panel */
    .panel{
      padding:16px;
      display:flex;
      flex-direction:column;
      gap:12px;
    }
    .section{
      border:1px solid var(--stroke);
      background: rgba(0,0,0,.10);
      border-radius: 18px;
      padding:12px;
      backdrop-filter: blur(var(--blur));
      -webkit-backdrop-filter: blur(var(--blur));
    }
    [data-theme="light"] .section{ background: rgba(255,255,255,.55); }
    .panel h2{
      margin:0;
      font-size:14px;
      font-weight:1000;
      letter-spacing:.2px;
    }
    .panel p{
      margin:6px 0 0 0;
      font-size:12px;
      color: var(--muted);
      line-height:1.4;
    }

    .grid2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
      margin-top:10px;
    }
    @media (max-width: 520px){
      .grid2{ grid-template-columns: 1fr; }
    }

    .stat{
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.05);
      border-radius:16px;
      padding:12px;
    }
    .stat .k{ font-size:12px; color: var(--muted); margin-bottom:6px; }
    .stat .v{ font-size:18px; font-weight:1000; }

    .controlsGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
      margin-top:10px;
    }
    @media (max-width: 520px){
      .controlsGrid{ grid-template-columns: 1fr; }
    }

    label{
      display:flex;
      flex-direction:column;
      gap:8px;
      font-size:12px;
      color: var(--muted);
    }
    select, input[type="range"], input[type="number"]{ width:100%; }
    select, input[type="number"]{
      appearance:none;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.06);
      color: var(--text);
      border-radius: 14px;
      padding:10px 12px;
      outline:none;
      font-family: var(--font);
      min-height: 44px;
    }
    [data-theme="light"] select, [data-theme="light"] input[type="number"]{
      background: rgba(0,0,0,.04);
    }
    input[type="range"]{ accent-color: var(--accent); }

    .toggle{
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.05);
      padding:10px 12px;
      border-radius: 16px;
      margin-top:10px;
    }
    .toggle .tText{ display:flex; flex-direction:column; gap:2px; min-width:0; }
    .toggle .tText b{ color: var(--text); font-size:12px; font-weight:1000; }
    .toggle .tText span{ font-size:12px; color: var(--muted2); line-height:1.2; }

    .switch{
      width:46px; height:28px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background: rgba(0,0,0,.18);
      position:relative;
      cursor:pointer;
      flex:0 0 auto;
    }
    [data-theme="light"] .switch{ background: rgba(255,255,255,.55); }
    .knob{
      position:absolute;
      left:4px; top:4px;
      width:20px; height:20px;
      border-radius:50%;
      background: rgba(255,255,255,.85);
      box-shadow: 0 8px 20px rgba(0,0,0,.30);
      transition: transform .18s ease;
    }
    .switch[data-on="true"] .knob{
      transform: translateX(18px);
      background: rgba(121,226,255,.95);
      box-shadow: 0 0 16px rgba(121,226,255,.45);
    }

    .history{
      max-height: 210px;
      overflow:auto;
      padding-right:6px;
      margin-top:10px;
    }
    .history::-webkit-scrollbar{ width:8px; }
    .history::-webkit-scrollbar-thumb{
      background: rgba(255,255,255,.12);
      border-radius:999px;
    }
    [data-theme="light"] .history::-webkit-scrollbar-thumb{
      background: rgba(0,0,0,.14);
    }

    .hItem{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding:10px 10px;
      border:1px solid var(--stroke);
      border-radius:14px;
      background: rgba(255,255,255,.04);
      margin-top:8px;
    }
    .hLeft{ display:flex; gap:10px; align-items:center; min-width:0; }
    .hIcon{
      width:34px; height:34px;
      border-radius:12px;
      display:flex;
      align-items:center;
      justify-content:center;
      border:1px solid var(--stroke);
      background: rgba(0,0,0,.14);
      flex:0 0 auto;
    }
    [data-theme="light"] .hIcon{ background: rgba(255,255,255,.55); }
    .hText{ min-width:0; display:flex; flex-direction:column; gap:2px; }
    .hText b{
      font-size:12px;
      font-weight:1000;
      color: var(--text);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .hText span{
      font-size:12px;
      color: var(--muted2);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .hRight{
      font-size:12px;
      color: var(--muted2);
      white-space:nowrap;
      flex:0 0 auto;
    }

    .toast{
      position:fixed;
      left:50%;
      bottom: calc(18px + var(--safeBottom));
      transform: translateX(-50%);
      border:1px solid var(--stroke);
      background: rgba(0,0,0,.22);
      color: var(--text);
      padding:10px 12px;
      border-radius: 16px;
      backdrop-filter: blur(var(--blur));
      -webkit-backdrop-filter: blur(var(--blur));
      box-shadow: 0 14px 45px rgba(0,0,0,.35);
      opacity:0;
      pointer-events:none;
      transition: opacity .18s ease, transform .18s ease;
      max-width:min(760px, calc(100% - 24px));
      font-size:12px;
      text-align:center;
      z-index:999;
    }
    [data-theme="light"] .toast{ background: rgba(255,255,255,.70); }
    .toast.show{
      opacity:1;
      transform: translateX(-50%) translateY(-4px);
    }

    /* iOS Safari: prevent double-tap zoom on controls + smoother */
    button, .switch, input, select { touch-action: manipulation; }

    /* Reduce motion accessibility */
    @media (prefers-reduced-motion: reduce){
      *{ scroll-behavior:auto !important; }
      button{ transition:none !important; }
      .toast{ transition:none !important; }
      .knob{ transition:none !important; }
    }
	  .seoBlock{
  margin-top: 32px;
  padding: 18px;
  border:1px solid var(--stroke);
  border-radius:18px;
  background: rgba(255,255,255,.04);
}

.seoBlock h2{
  margin:0 0 10px 0;
  font-size:16px;
  font-weight:1000;
}

.seoBlock p,
.seoBlock li{
  font-size:13px;
  line-height:1.6;
  color: var(--muted);
}

.seoFooter{
  margin-top:40px;
  font-size:11px;
  color: var(--muted2);
  text-align:center;
}
  </style>
</head>

<body data-theme="dark">
  <div class="app">

    <!-- LEFT -->
    <div class="card">
      <div class="header">
        <div class="titleWrap">
          <h1 class="title">M√ºnzwurf Deluxe</h1>
          <p class="sub">Mit unserem <b>kostenlosen M√ºnzwerfer</b> triffst du Entscheidungen schnell,
  fair und zuf√§llig. Egal ob <b>Kopf oder Zahl</b>, Ja-Nein-Fragen,
  Spiele, Abstimmungen oder Entscheidungen im Alltag ‚Äì ein Klick reicht.</p>
        </div>

        <div class="pillRow">
          <div class="pill" title="Status"><span class="dot" id="dotState"></span><span id="stateText">Bereit</span></div>
          <div class="pill" title="Fairness"><span id="pillProb">50% Kopf</span></div>
          <div class="pill" title="Look"><span id="pillSkin">Gold</span></div>
        </div>
      </div>

      <div class="stage" id="stage">
        <div class="grid"></div>

        <div class="hud">
          <div class="tag" id="hudMode">Mode: Normal</div>
          <div class="tag" id="hudStreak">Streak: ‚Äî</div>
        </div>

        <div class="coinCanvasWrap">
          <canvas id="coinCanvas"></canvas>
        </div>

        <div class="hint">
          <span class="kbd">Leertaste</span>
          <span class="kbd">Enter</span>
          <span>werfen ‚Ä¢</span>
          <span class="kbd">A</span>
          <span>Auto ‚Ä¢</span>
          <span class="kbd">T</span>
          <span>Theme ‚Ä¢</span>
          <span class="kbd">S</span>
          <span>Sound</span>
        </div>
      </div>

      <div class="footer">
        <div class="row">
          <div class="btnRow">
            <button class="primary" id="btnFlip" type="button">ü™ô Werfen</button>
            <button id="btnAuto" type="button">‚è±Ô∏è Auto: Aus</button>
            <button id="btnCopy" type="button">üìã Ergebnis kopieren</button>
            <button id="btnReset" class="danger" type="button">‚Ü∫ Reset</button>
          </div>
        </div>

        <div class="resultBar">
          <div class="resultText" id="resultText">Bereit. <span class="spark">‚ú¶</span></div>
          <div class="miniLine">
            <span class="badge">W√ºrfe: <b id="count">0</b></span>
            <span class="badge">Kopf: <b id="heads">0</b></span>
            <span class="badge">Zahl: <b id="tails">0</b></span>
            <span class="badge">Quote Kopf: <b id="ratioHeads">0%</b></span>
          </div>
        </div>
      </div>
    </div>

    <!-- RIGHT -->
    <div class="card">
      <div class="panel">

        <div class="section">
          <h2>Statistik</h2>
          <p>Reset setzt alles zur√ºck.</p>
          <div class="grid2">
            <div class="stat"><div class="k">W√ºrfe</div><div class="v" id="sCount">0</div></div>
            <div class="stat"><div class="k">Letztes Ergebnis</div><div class="v" id="sLast">‚Äî</div></div>
            <div class="stat"><div class="k">L√§ngste Kopf-Streak</div><div class="v" id="sBestHeads">0</div></div>
            <div class="stat"><div class="k">L√§ngste Zahl-Streak</div><div class="v" id="sBestTails">0</div></div>
          </div>
        </div>

        <div class="section">
          <h2>Einstellungen</h2>
          <p>50% = fair. Alles andere ist absichtlich biased.</p>

          <div class="controlsGrid">
            <label>
              Wahrscheinlichkeit ‚ÄûKopf‚Äú
              <input id="prob" type="range" min="0" max="100" value="50" />
              <span id="probLabel">50%</span>
            </label>

            <label>
              Look / Material
              <select id="skin">
                <option value="gold">Gold</option>
                <option value="silver">Silber</option>
                <option value="copper">Kupfer</option>
                <option value="platinum">Platin</option>
              </select>
            </label>

            <label>
              Flip-Speed
              <select id="speed">
                <option value="normal">Normal</option>
                <option value="slow">Slow Motion</option>
                <option value="fast">Fast</option>
              </select>
            </label>

            <label>
              Auto-Intervall (Sek.)
              <input id="autoSec" type="number" min="1" max="10" step="1" value="2" />
            </label>
          </div>

          <div class="toggle">
            <div class="tText">
              <b>Sound</b>
              <span>Flip + Landen (WebAudio)</span>
            </div>
            <div class="switch" id="swSound" data-on="true" role="switch" aria-checked="true" tabindex="0">
              <div class="knob"></div>
            </div>
          </div>

          <div class="toggle">
            <div class="tText">
              <b>Haptik (Vibration)</b>
              <span>Wenn dein Ger√§t es kann</span>
            </div>
            <div class="switch" id="swHaptic" data-on="true" role="switch" aria-checked="true" tabindex="0">
              <div class="knob"></div>
            </div>
          </div>

          <div class="toggle">
            <div class="tText">
              <b>Theme</b>
              <span>Dark/Light umschalten</span>
            </div>
            <div class="switch" id="swTheme" data-on="false" role="switch" aria-checked="false" tabindex="0">
              <div class="knob"></div>
            </div>
          </div>

          <div class="toggle">
            <div class="tText">
              <b>History speichern</b>
              <span>Merkt sich W√ºrfe (LocalStorage)</span>
            </div>
            <div class="switch" id="swPersist" data-on="true" role="switch" aria-checked="true" tabindex="0">
              <div class="knob"></div>
            </div>
          </div>
        </div>

        <div class="section">
          <h2>History</h2>
          <p>Die letzten W√ºrfe.</p>
          <div class="history" id="history"></div>
        </div>

        <div class="section">
          <h2>Shortcuts</h2>
          <p>
            Leertaste / Enter = werfen<br>
            A = Auto an/aus<br>
            S = Sound an/aus<br>
            T = Theme wechseln
          </p>
        </div>

      </div>
    </div>
  </div>

  <div class="toast" id="toast">‚Ä¶</div>

  <script>
    "use strict";

    /* ---------------- Helpers ---------------- */
    const $ = (id) => document.getElementById(id);
    const clamp = (n, a, b) => Math.max(a, Math.min(b, n));
    const LS_KEY = "coin_canvas_deluxe_mobile_v3";
    const HISTORY_LIMIT = 24;

    function toast(msg){
      const t = $("toast");
      t.textContent = msg;
      t.classList.add("show");
      clearTimeout(toast._t);
      toast._t = setTimeout(() => t.classList.remove("show"), 1400);
    }

    function fmtTime(d){
      const hh = String(d.getHours()).padStart(2,"0");
      const mm = String(d.getMinutes()).padStart(2,"0");
      const ss = String(d.getSeconds()).padStart(2,"0");
      return `${hh}:${mm}:${ss}`;
    }

    function setSwitch(sw, on){
      sw.dataset.on = on ? "true" : "false";
      sw.setAttribute("aria-checked", on ? "true" : "false");
    }

    function easeInOutCubic(t){
      return t < 0.5 ? 4*t*t*t : 1 - Math.pow(-2*t+2, 3)/2;
    }
    function smoothStep(t){
      return t*t*(3-2*t);
    }

    function roundedRectPath(ctx, x, y, w, h, r){
      r = Math.max(0, Math.min(r, Math.min(w, h) / 2));
      ctx.beginPath();
      ctx.moveTo(x + r, y);
      ctx.lineTo(x + w - r, y);
      ctx.quadraticCurveTo(x + w, y, x + w, y + r);
      ctx.lineTo(x + w, y + h - r);
      ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
      ctx.lineTo(x + r, y + h);
      ctx.quadraticCurveTo(x, y + h, x, y + h - r);
      ctx.lineTo(x, y + r);
      ctx.quadraticCurveTo(x, y, x + r, y);
      ctx.closePath();
    }

    /* ---------------- DOM ---------------- */
    const btnFlip  = $("btnFlip");
    const btnAuto  = $("btnAuto");
    const btnCopy  = $("btnCopy");
    const btnReset = $("btnReset");

    const prob = $("prob");
    const probLabel = $("probLabel");
    const skinSel = $("skin");
    const speedSel = $("speed");
    const autoSec = $("autoSec");

    const swSound  = $("swSound");
    const swHaptic = $("swHaptic");
    const swTheme  = $("swTheme");
    const swPersist= $("swPersist");

    const dotState = $("dotState");
    const stateText = $("stateText");
    const pillProb = $("pillProb");
    const pillSkin = $("pillSkin");

    const resultText = $("resultText");
    const countEl = $("count");
    const headsEl = $("heads");
    const tailsEl = $("tails");
    const ratioHeadsEl = $("ratioHeads");

    const sCount = $("sCount");
    const sLast  = $("sLast");
    const sBestHeads = $("sBestHeads");
    const sBestTails = $("sBestTails");

    const hudMode = $("hudMode");
    const hudStreak = $("hudStreak");

    const historyEl = $("history");

    /* ---------------- State ---------------- */
    let busy = false;
    let autoTimer = null;

    let count=0, heads=0, tails=0;
    let last=null;

    let streakType=null, streakLen=0;
    let bestHeads=0, bestTails=0;
    let history = [];

    function setBusy(on){
      busy = on;
      btnFlip.disabled = on;
      stateText.textContent = on ? "Wirft‚Ä¶" : "Bereit";
      if(on){
        dotState.style.background = "var(--accent2)";
        dotState.style.boxShadow = "0 0 14px rgba(255,223,122,.45)";
      }else{
        dotState.style.background = "var(--accent)";
        dotState.style.boxShadow = "0 0 14px rgba(121,226,255,.55)";
      }
    }

    function applyTheme(){
      document.body.setAttribute("data-theme", swTheme.dataset.on === "true" ? "light" : "dark");
      Coin.requestRender();
    }

    function updateUI(){
      const p = Number(prob.value);
      probLabel.textContent = p + "%";
      pillProb.textContent = `${p}% Kopf`;
      pillSkin.textContent = ({
        gold:"Gold", silver:"Silber", copper:"Kupfer", platinum:"Platin"
      })[skinSel.value] || "Gold";

      countEl.textContent = String(count);
      headsEl.textContent = String(heads);
      tailsEl.textContent = String(tails);

      sCount.textContent = String(count);
      sLast.textContent  = last ?? "‚Äî";
      sBestHeads.textContent = String(bestHeads);
      sBestTails.textContent = String(bestTails);

      const ratio = count ? Math.round((heads / count) * 100) : 0;
      ratioHeadsEl.textContent = ratio + "%";

      hudMode.textContent = autoTimer ? "Mode: Auto" : "Mode: Normal";
      hudStreak.textContent = streakType ? `Streak: ${streakType} x${streakLen}` : "Streak: ‚Äî";

      saveState();
    }

    function renderHistory(){
      historyEl.innerHTML = "";
      if(!history.length){
        const empty = document.createElement("div");
        empty.style.color = "var(--muted)";
        empty.style.fontSize = "12px";
        empty.style.padding = "10px 4px";
        empty.textContent = "Noch keine W√ºrfe.";
        historyEl.appendChild(empty);
        return;
      }

      let idx = history.length;
      for(const h of history){
        const wrap = document.createElement("div");
        wrap.className = "hItem";

        const left = document.createElement("div");
        left.className = "hLeft";

        const icon = document.createElement("div");
        icon.className = "hIcon";
        icon.textContent = h.result === "Kopf" ? "üëë" : "üî¢";

        const txt = document.createElement("div");
        txt.className = "hText";

        const b = document.createElement("b");
        b.textContent = h.result;

        const s = document.createElement("span");
        s.textContent = "Zeit: " + h.time;

        txt.appendChild(b); txt.appendChild(s);
        left.appendChild(icon); left.appendChild(txt);

        const right = document.createElement("div");
        right.className = "hRight";
        right.textContent = "#" + (idx--);

        wrap.appendChild(left);
        wrap.appendChild(right);
        historyEl.appendChild(wrap);
      }
    }

    function addHistoryItem(res){
      const now = new Date();
      history.unshift({ at: now.toISOString(), time: fmtTime(now), result: res });
      if(history.length > HISTORY_LIMIT) history.length = HISTORY_LIMIT;
      renderHistory();
      saveState();
    }

    function pickResult(){
      const p = Number(prob.value) / 100;
      return (Math.random() < p) ? "Kopf" : "Zahl";
    }

    function applyStreak(res){
      if(streakType === res) streakLen++;
      else { streakType = res; streakLen = 1; }
      if(res === "Kopf") bestHeads = Math.max(bestHeads, streakLen);
      else bestTails = Math.max(bestTails, streakLen);
    }

    async function copyResult(){
      const p = Number(prob.value);
      const text = last
        ? `M√ºnzwurf: ${last} (W√ºrfe: ${count}, Kopf: ${heads}, Zahl: ${tails}, Wahrscheinlichkeit Kopf: ${p}%)`
        : `M√ºnzwurf bereit (Wahrscheinlichkeit Kopf: ${p}%)`;
      try{
        await navigator.clipboard.writeText(text);
        toast("Kopiert ‚úÖ");
      }catch(e){
        toast("Clipboard blockiert üòÖ");
      }
    }

    function resetAll(){
      stopAuto();
      count=0; heads=0; tails=0; last=null;
      streakType=null; streakLen=0;
      bestHeads=0; bestTails=0;
      history = [];
      resultText.innerHTML = "Bereit. <span class='spark'>‚ú¶</span>";
      updateUI();
      renderHistory();
      toast("Reset done");
      Coin.setIdle("Kopf");
    }

    /* ---------------- Audio / Haptics ---------------- */
    let audioCtx = null;
    function ensureAudio(){
      if(audioCtx) return;
      try{ audioCtx = new (window.AudioContext || window.webkitAudioContext)(); }catch(e){}
    }
    function beep(type){
      if(swSound.dataset.on !== "true") return;
      ensureAudio();
      if(!audioCtx) return;
      if(audioCtx.state === "suspended") audioCtx.resume().catch(()=>{});

      const now = audioCtx.currentTime;
      const o = audioCtx.createOscillator();
      const g = audioCtx.createGain();
      o.type = "sine";

      if(type === "flip"){
        o.frequency.setValueAtTime(520, now);
        o.frequency.exponentialRampToValueAtTime(220, now + 0.08);
        g.gain.setValueAtTime(0.0001, now);
        g.gain.exponentialRampToValueAtTime(0.12, now + 0.01);
        g.gain.exponentialRampToValueAtTime(0.0001, now + 0.10);
        o.connect(g); g.connect(audioCtx.destination);
        o.start(now); o.stop(now + 0.12);
      }else{
        o.frequency.setValueAtTime(190, now);
        o.frequency.exponentialRampToValueAtTime(120, now + 0.12);
        g.gain.setValueAtTime(0.0001, now);
        g.gain.exponentialRampToValueAtTime(0.18, now + 0.01);
        g.gain.exponentialRampToValueAtTime(0.0001, now + 0.15);
        o.connect(g); g.connect(audioCtx.destination);
        o.start(now); o.stop(now + 0.16);
      }
    }
    function vibrate(ms){
      if(swHaptic.dataset.on !== "true") return;
      if(navigator.vibrate) navigator.vibrate(ms);
    }

    /* ---------------- Persistence ---------------- */
    function saveState(){
      if(swPersist.dataset.on !== "true") return;
      const data = {
        count, heads, tails, last,
        streakType, streakLen, bestHeads, bestTails,
        history,
        prob: Number(prob.value),
        skin: skinSel.value,
        speed: speedSel.value,
        autoSec: Number(autoSec.value),
        sound: swSound.dataset.on === "true",
        haptic: swHaptic.dataset.on === "true",
        theme: swTheme.dataset.on === "true" ? "light" : "dark",
        persist: swPersist.dataset.on === "true"
      };
      try{ localStorage.setItem(LS_KEY, JSON.stringify(data)); }catch(e){}
    }

    function loadState(){
      try{
        const raw = localStorage.getItem(LS_KEY);
        if(!raw) return;
        const d = JSON.parse(raw);
        if(!d) return;

        count = d.count ?? 0;
        heads = d.heads ?? 0;
        tails = d.tails ?? 0;
        last  = d.last ?? null;

        streakType = d.streakType ?? null;
        streakLen  = d.streakLen ?? 0;
        bestHeads  = d.bestHeads ?? 0;
        bestTails  = d.bestTails ?? 0;

        history = Array.isArray(d.history) ? d.history : [];

        prob.value = clamp(Number(d.prob ?? 50), 0, 100);
        skinSel.value = d.skin ?? "gold";
        speedSel.value = d.speed ?? "normal";
        autoSec.value = clamp(Number(d.autoSec ?? 2), 1, 10);

        setSwitch(swSound, d.sound !== false);
        setSwitch(swHaptic, d.haptic !== false);
        setSwitch(swTheme, d.theme === "light");
        setSwitch(swPersist, d.persist !== false);

        applyTheme();
        updateUI();
        renderHistory();
      }catch(e){}
    }

    /* ---------------- Auto ---------------- */
    function startAuto(){
      const sec = clamp(Number(autoSec.value) || 2, 1, 10);
      autoSec.value = sec;
      btnAuto.textContent = "‚è±Ô∏è Auto: An";
      toast("Auto an ("+sec+"s)");
      autoTimer = setInterval(() => { if(!busy) doFlip(); }, sec*1000);
      updateUI();
    }
    function stopAuto(){
      if(autoTimer){ clearInterval(autoTimer); autoTimer=null; }
      btnAuto.textContent = "‚è±Ô∏è Auto: Aus";
      updateUI();
    }
    function toggleAuto(){ autoTimer ? stopAuto() : startAuto(); }

    /* ---------------- Canvas Coin Engine (STABLE) ---------------- */
    const Coin = (() => {
      const canvas = $("coinCanvas");
      const ctx = canvas.getContext("2d", { alpha:true });

      const state = {
        running:false,
        t:0,
        dur:1.25,
        spin:0.25,
        tilt:0.18,
        yaw:0.22,
        x:0,
        y:0,
        targetFace:"Kopf",
        spinFrom:0.25,
        spinTo:0.25,
        tiltFrom:0.18,
        tiltTo:0.18,
        yawFrom:0.22,
        yawTo:0.22,
        yPeak:-280,
        x1:0, x2:0,
        needsRender:true,
        lastFrame: performance.now()
      };

      function getDpr(){
        return Math.max(1, Math.min(2.2, window.devicePixelRatio || 1));
      }

      function fitCanvas(){
        const W = 900, H = 900;
        const dpr = getDpr();
        canvas.width = Math.floor(W * dpr);
        canvas.height = Math.floor(H * dpr);
        ctx.setTransform(dpr,0,0,dpr,0,0);
        state.needsRender = true;
      }

      window.addEventListener("resize", () => { fitCanvas(); requestRender(); });
      fitCanvas();

      function requestRender(){ state.needsRender = true; }

      function getMaterial(){
        const s = skinSel.value;
        if(s === "silver")   return { top:"#f6f8ff", mid:"#cfd7e6", bot:"#8893a6", edge:"#cfd7e6" };
        if(s === "copper")   return { top:"#ffd3b0", mid:"#c97a3a", bot:"#6a2c10", edge:"#c97a3a" };
        if(s === "platinum") return { top:"#ffffff", mid:"#dfe8f6", bot:"#8fa1bf", edge:"#dfe8f6" };
        return { top:"#ffe8b0", mid:"#d7a31a", bot:"#7a4e00", edge:"#d7a31a" };
      }

      function drawSymbol(g, face, size){
        g.save();
        if(face === "Kopf"){
          g.beginPath();
          g.moveTo(-size*0.85, size*0.25);
          g.lineTo(-size*0.65, -size*0.30);
          g.lineTo(-size*0.25, size*0.05);
          g.lineTo(0, -size*0.40);
          g.lineTo(size*0.25, size*0.05);
          g.lineTo(size*0.65, -size*0.30);
          g.lineTo(size*0.85, size*0.25);
          g.quadraticCurveTo(0, size*0.55, -size*0.85, size*0.25);
          g.closePath();
          g.fill();

          g.beginPath(); g.arc(-size*0.45, -size*0.18, size*0.08, 0, Math.PI*2); g.fill();
          g.beginPath(); g.arc(0, -size*0.26, size*0.08, 0, Math.PI*2); g.fill();
          g.beginPath(); g.arc(size*0.45, -size*0.18, size*0.08, 0, Math.PI*2); g.fill();
        }else{
          const dotR = size*0.10;
          const step = size*0.35;
          for(let yy=-1;yy<=1;yy++){
            for(let xx=-1;xx<=1;xx++){
              g.beginPath();
              g.arc(xx*step, yy*step, dotR, 0, Math.PI*2);
              g.fill();
            }
          }
          const w = size*1.10;
          const h = size*0.18;
          const x = -w/2;
          const y = size*0.55;
          roundedRectPath(g, x, y, w, h, h/2);
          g.fill();
        }
        g.restore();
      }

      function drawFace(g, r, face){
        const mat = getMaterial();

        const grad = g.createRadialGradient(-r*0.2, -r*0.25, r*0.2, 0, 0, r*1.05);
        grad.addColorStop(0, mat.top);
        grad.addColorStop(0.55, mat.mid);
        grad.addColorStop(1, mat.bot);
        g.fillStyle = grad;
        g.beginPath();
        g.arc(0,0,r,0,Math.PI*2);
        g.fill();

        g.save();
        g.globalAlpha = 0.12;
        g.rotate(0.35);
        g.strokeStyle = "rgba(255,255,255,.25)";
        g.lineWidth = 1;
        for(let i=0;i<90;i++){
          const rr = (i/90)*r;
          g.beginPath(); g.arc(0,0,rr,0,Math.PI*2); g.stroke();
        }
        g.restore();

        g.save();
        g.lineWidth = r*0.09;
        const rimGrad = g.createLinearGradient(-r, -r, r, r);
        rimGrad.addColorStop(0, "rgba(255,255,255,.30)");
        rimGrad.addColorStop(0.5, "rgba(0,0,0,.18)");
        rimGrad.addColorStop(1, "rgba(255,255,255,.18)");
        g.strokeStyle = rimGrad;
        g.beginPath(); g.arc(0,0,r*0.94,0,Math.PI*2); g.stroke();
        g.restore();

        g.save();
        g.globalAlpha = 0.22;
        g.lineWidth = 2;
        g.strokeStyle = "rgba(0,0,0,.35)";
        g.beginPath(); g.arc(0,0,r*0.68,0,Math.PI*2); g.stroke();
        g.globalAlpha = 0.12;
        g.strokeStyle = "rgba(255,255,255,.45)";
        g.beginPath(); g.arc(0,0,r*0.70,0,Math.PI*2); g.stroke();
        g.restore();

        const lx = 0.55 + 0.25*Math.cos(state.spin*0.7);
        const ly = -0.55 + 0.25*Math.sin(state.spin*0.7);
        const ox = lx * r*0.03;
        const oy = ly * r*0.03;

        g.save();
        g.translate(0, -r*0.02);

        g.globalAlpha = 0.18;
        g.fillStyle = "rgba(0,0,0,.65)";
        g.save(); g.translate(ox, oy); drawSymbol(g, face, r*0.38); g.restore();

        g.globalAlpha = 0.18;
        g.fillStyle = "rgba(255,255,255,.55)";
        g.save(); g.translate(-ox, -oy); drawSymbol(g, face, r*0.38); g.restore();

        g.globalAlpha = 0.85;
        g.fillStyle = "rgba(0,0,0,.45)";
        drawSymbol(g, face, r*0.38);

        g.globalAlpha = 0.62;
        g.fillStyle = "rgba(0,0,0,.48)";
        g.font = `900 ${Math.floor(r*0.16)}px ${getComputedStyle(document.body).fontFamily}`;
        g.textAlign = "center";
        g.textBaseline = "middle";
        g.fillText(face === "Kopf" ? "KOPF" : "ZAHL", 0, r*0.46);
        g.restore();

        g.save();
        const shine = g.createRadialGradient(-r*0.35 + lx*r*0.25, -r*0.35 + ly*r*0.25, r*0.1, 0, 0, r*1.1);
        shine.addColorStop(0, "rgba(255,255,255,.45)");
        shine.addColorStop(0.25, "rgba(255,255,255,.16)");
        shine.addColorStop(0.55, "rgba(255,255,255,.06)");
        shine.addColorStop(1, "rgba(255,255,255,0)");
        g.globalCompositeOperation = "screen";
        g.fillStyle = shine;
        g.beginPath(); g.arc(0,0,r,0,Math.PI*2); g.fill();
        g.restore();

        g.save();
        const vign = g.createRadialGradient(0,0,r*0.30, 0,0,r*1.15);
        vign.addColorStop(0, "rgba(0,0,0,0)");
        vign.addColorStop(1, "rgba(0,0,0,.22)");
        g.globalAlpha = 0.60;
        g.fillStyle = vign;
        g.beginPath(); g.arc(0,0,r,0,Math.PI*2); g.fill();
        g.restore();
      }

      function render(){
        if(!state.needsRender && !state.running) return;
        state.needsRender = false;

        const W = 900, H = 900;
        ctx.clearRect(0,0,W,H);

        ctx.save();
        const bg = ctx.createRadialGradient(W*0.5, H*0.55, 10, W*0.5, H*0.55, H*0.55);
        bg.addColorStop(0, "rgba(255,255,255,.05)");
        bg.addColorStop(1, "rgba(0,0,0,0)");
        ctx.fillStyle = bg;
        ctx.fillRect(0,0,W,H);
        ctx.restore();

        const baseY = H*0.62;
        const cx = W*0.5 + state.x;
        const cy = baseY + state.y;

        const height01 = clamp((-state.y) / (H*0.35), 0, 1);
        const shadowScale = 1 - height01*0.55;
        const shadowAlpha = 0.55 - height01*0.30;

        ctx.save();
        ctx.globalAlpha = shadowAlpha;
        const sh = ctx.createRadialGradient(cx, baseY + H*0.12, 10, cx, baseY + H*0.12, H*0.20);
        sh.addColorStop(0, "rgba(0,0,0,.65)");
        sh.addColorStop(1, "rgba(0,0,0,0)");
        ctx.fillStyle = sh;
        ctx.beginPath();
        ctx.ellipse(cx, baseY + H*0.12, H*0.19*shadowScale, H*0.06*shadowScale, 0, 0, Math.PI*2);
        ctx.fill();
        ctx.restore();

        const c = Math.cos(state.spin);
        const face = (c >= 0) ? "Kopf" : "Zahl";

        const r = H*0.16;
        const thickness = r*0.18;

        const faceScaleY = clamp(Math.abs(c), 0.10, 1.0);
        const edgeStrength = 1 - faceScaleY;

        ctx.save();
        ctx.translate(cx, cy);

        const roll = state.yaw*0.35 + Math.sin(state.spin*0.15)*0.06;
        ctx.rotate(roll);

        if(edgeStrength > 0.02){
          const mat = getMaterial();
          const ew = thickness * (0.65 + edgeStrength*2.0);
          const eh = r*2 * (0.14 + edgeStrength*0.86);

          const eg = ctx.createLinearGradient(-ew, 0, ew, 0);
          eg.addColorStop(0, "rgba(255,255,255,.22)");
          eg.addColorStop(0.35, mat.edge);
          eg.addColorStop(0.65, "rgba(0,0,0,.18)");
          eg.addColorStop(1, "rgba(255,255,255,.14)");

          ctx.save();
          ctx.globalAlpha = 0.95;
          ctx.fillStyle = eg;
          roundedRectPath(ctx, -ew, -eh*0.5, ew*2, eh, Math.min(ew, 18));
          ctx.fill();

          ctx.globalAlpha = 0.20 + edgeStrength*0.40;
          ctx.strokeStyle = "rgba(0,0,0,.45)";
          ctx.lineWidth = 1;
          const ribCount = 52;
          for(let i=0;i<ribCount;i++){
            const yy = -eh*0.5 + (i/(ribCount-1))*eh;
            ctx.beginPath();
            ctx.moveTo(-ew, yy);
            ctx.lineTo(ew, yy);
            ctx.stroke();
          }

          ctx.globalAlpha = 0.20 + edgeStrength*0.25;
          ctx.strokeStyle = "rgba(255,255,255,.65)";
          roundedRectPath(ctx, -ew, -eh*0.5, ew*2, eh, Math.min(ew, 18));
          ctx.stroke();
          ctx.restore();
        }

        ctx.save();
        ctx.scale(1, faceScaleY);

        ctx.save();
        ctx.globalAlpha = 0.16;
        ctx.fillStyle = "rgba(0,0,0,.55)";
        ctx.beginPath();
        ctx.arc(0, r*0.04, r*1.02, 0, Math.PI*2);
        ctx.fill();
        ctx.restore();

        ctx.beginPath();
        ctx.arc(0,0,r,0,Math.PI*2);
        ctx.clip();

        drawFace(ctx, r, face);

        ctx.restore();
        ctx.restore();
      }

      function setIdle(face){
        state.spin = (face === "Kopf") ? 0.25 : Math.PI + 0.25;
        state.tilt = 0.18;
        state.yaw  = 0.22;
        state.x = 0;
        state.y = 0;
        state.running = false;
        state.needsRender = true;
        render();
      }

      function startFlip(target){
        state.running = true;
        state.t = 0;
        state.targetFace = target;

        const speed = speedSel.value;
        state.dur = (speed === "slow") ? 2.2 : (speed === "fast" ? 0.95 : 1.25);

        state.x = 0;
        state.y = 0;

        const base = state.spin;
        const turns = (speed === "slow") ? 10 : (speed === "fast" ? 16 : 14);
        const final = (target === "Kopf") ? 0.25 : Math.PI + 0.25;

        state.spinFrom = base;
        const baseMod = ((base % (Math.PI*2)) + (Math.PI*2)) % (Math.PI*2);
        const deltaToFinal = final - baseMod;
        state.spinTo = base + (turns * Math.PI) + deltaToFinal;

        state.tiltFrom = state.tilt;
        state.tiltTo   = 0.20 + Math.random()*0.08;

        state.yawFrom = state.yaw;
        state.yawTo   = 0.18 + Math.random()*0.22;

        const h = 260 + Math.random()*120;
        state.yPeak = -h;
        state.x1 = (-70 + Math.random()*140);
        state.x2 = (-90 + Math.random()*180);

        requestRender();
      }

      function tick(now){
        const dt = Math.min(0.05, (now - state.lastFrame)/1000);
        state.lastFrame = now;

        if(state.running){
          state.t += dt / state.dur;
          const t = clamp(state.t, 0, 1);
          const e = easeInOutCubic(t);

          state.spin = state.spinFrom + (state.spinTo - state.spinFrom) * e;
          state.tilt = state.tiltFrom + (state.tiltTo - state.tiltFrom) * smoothStep(t);
          state.yaw  = state.yawFrom  + (state.yawTo  - state.yawFrom)  * smoothStep(t);

          state.y = 4 * state.yPeak * t * (1-t);

          const xw = Math.sin(t*Math.PI);
          state.x = (state.x1 * xw) + (state.x2 * (xw*xw - xw*0.5));

          if(t > 0.92){
            const l = (t - 0.92) / 0.08;
            state.y += Math.sin(l*Math.PI) * 6;
          }

          if(t >= 1){
            state.running = false;
            state.x = 0; state.y = 0;
            state.spin = (state.targetFace === "Kopf") ? 0.25 : Math.PI + 0.25;
            state.tilt = 0.18;
            state.yaw  = 0.22;
          }

          state.needsRender = true;
        }

        render();
        requestAnimationFrame(tick);
      }

      requestAnimationFrame(tick);

      return { requestRender, setIdle, startFlip };
    })();

    /* ---------------- Actions ---------------- */
    function doFlip(){
      if(busy) return;
      setBusy(true);

      const res = pickResult();
      beep("flip");
      vibrate(18);

      Coin.startFlip(res);

      const speed = speedSel.value;
      const dur = (speed === "slow") ? 2.2 : (speed === "fast" ? 0.95 : 1.25);
      const revealMs = Math.floor(dur * 1000 * 0.90);

      setTimeout(() => {
        last = res;
        count++;
        if(res === "Kopf") heads++; else tails++;
        applyStreak(res);

        resultText.innerHTML = `Ergebnis: ${res} <span class="spark">‚ú¶</span>`;
        addHistoryItem(res);

        beep("land");
        vibrate(28);

        updateUI();
      }, revealMs);

      setTimeout(() => setBusy(false), Math.floor(dur * 1000) + 60);
    }

    /* ---------------- Switch binding ---------------- */
    function bindSwitch(sw, onToggle){
      sw.addEventListener("click", onToggle);
      sw.addEventListener("keydown", (e) => {
        if(e.key === "Enter" || e.key === " "){
          e.preventDefault();
          onToggle();
        }
      });
    }

    /* ---------------- Events ---------------- */
    btnFlip.addEventListener("click", doFlip);
    btnAuto.addEventListener("click", () => (autoTimer ? stopAuto() : startAuto()));
    btnCopy.addEventListener("click", copyResult);
    btnReset.addEventListener("click", resetAll);

    prob.addEventListener("input", () => { updateUI(); });

    skinSel.addEventListener("change", () => {
      toast("Material: " + skinSel.options[skinSel.selectedIndex].text);
      updateUI();
      Coin.requestRender();
    });

    speedSel.addEventListener("change", () => {
      toast("Speed: " + speedSel.options[speedSel.selectedIndex].text);
    });

    autoSec.addEventListener("change", () => {
      autoSec.value = clamp(Number(autoSec.value) || 2, 1, 10);
      if(autoTimer){
        stopAuto();
        startAuto();
      }else{
        toast("Auto: " + autoSec.value + "s");
      }
      updateUI();
    });

    bindSwitch(swSound, () => {
      const on = swSound.dataset.on !== "true";
      setSwitch(swSound, on);
      toast("Sound: " + (on ? "an" : "aus"));
      if(on) beep("flip");
      updateUI();
    });

    bindSwitch(swHaptic, () => {
      const on = swHaptic.dataset.on !== "true";
      setSwitch(swHaptic, on);
      toast("Haptik: " + (on ? "an" : "aus"));
      if(on) vibrate(20);
      updateUI();
    });

    bindSwitch(swTheme, () => {
      const on = swTheme.dataset.on !== "true";
      setSwitch(swTheme, on);
      applyTheme();
      toast("Theme: " + (on ? "Light" : "Dark"));
      updateUI();
    });

    bindSwitch(swPersist, () => {
      const on = swPersist.dataset.on !== "true";
      setSwitch(swPersist, on);
      toast("Speichern: " + (on ? "an" : "aus"));
      if(!on){
        try{ localStorage.removeItem(LS_KEY); }catch(e){}
      }else{
        saveState();
      }
      updateUI();
    });

    document.addEventListener("keydown", (e) => {
      if(e.repeat) return;

      if(e.code === "Space" || e.key === "Enter"){
        e.preventDefault();
        doFlip();
      }
      if(e.key.toLowerCase() === "a"){
        if(autoTimer) stopAuto(); else startAuto();
      }
      if(e.key.toLowerCase() === "s"){
        const on = swSound.dataset.on !== "true";
        setSwitch(swSound, on);
        toast("Sound: " + (on ? "an" : "aus"));
        if(on) beep("flip");
        updateUI();
      }
      if(e.key.toLowerCase() === "t"){
        const on = swTheme.dataset.on !== "true";
        setSwitch(swTheme, on);
        applyTheme();
        toast("Theme: " + (on ? "Light" : "Dark"));
        updateUI();
      }
    });

    /* ---------------- Auto ---------------- */
    function startAuto(){
      const sec = clamp(Number(autoSec.value) || 2, 1, 10);
      autoSec.value = sec;
      btnAuto.textContent = "‚è±Ô∏è Auto: An";
      toast("Auto an ("+sec+"s)");
      autoTimer = setInterval(() => { if(!busy) doFlip(); }, sec*1000);
      updateUI();
    }
    function stopAuto(){
      if(autoTimer){ clearInterval(autoTimer); autoTimer=null; }
      btnAuto.textContent = "‚è±Ô∏è Auto: Aus";
      updateUI();
    }

    /* ---------------- Init ---------------- */
    setSwitch(swSound, true);
    setSwitch(swHaptic, true);
    setSwitch(swTheme, false);
    setSwitch(swPersist, true);

    applyTheme();
    loadState();
    renderHistory();
    updateUI();

    Coin.setIdle(last || "Kopf");
    setBusy(false);
    setTimeout(() => toast("Tipp: Leertaste zum Werfen üòÑ"), 650);
  </script>
	<hr>
	<!-- FAQ (Accordion) f√ºr ‚ÄûM√ºnzwurf Deluxe‚Äú ‚Äì schick + ohne Abh√§ngigkeiten -->
<!-- Einfach irgendwo in deine Seite einf√ºgen (z.B. unter Einstellungen oder ans Ende). -->

<style>
  .faqCard{
    border:1px solid var(--stroke);
    background: linear-gradient(180deg, var(--card), var(--card2));
    border-radius: var(--r);
    box-shadow: var(--shadow);
    overflow:hidden;
  }
  .faqHead{
    padding:16px;
    display:flex;
    align-items:flex-start;
    justify-content:space-between;
    gap:12px;
    border-bottom:1px solid var(--stroke);
  }
  .faqTitleWrap{ min-width:0; }
  .faqTitle{
    margin:0;
    font-size:14px;
    font-weight:1000;
    letter-spacing:.2px;
    color: var(--text);
  }
  .faqSub{
    margin:6px 0 0 0;
    font-size:12px;
    line-height:1.4;
    color: var(--muted);
  }
  .faqTools{
    display:flex;
    gap:10px;
    align-items:center;
    flex-wrap:wrap;
    justify-content:flex-end;
    flex:0 0 auto;
  }
  .faqPill{
    display:inline-flex;
    align-items:center;
    gap:8px;
    padding:8px 10px;
    border-radius:999px;
    border:1px solid var(--stroke);
    background: rgba(0,0,0,.08);
    backdrop-filter: blur(var(--blur));
    -webkit-backdrop-filter: blur(var(--blur));
    font-size:12px;
    color: var(--muted);
    user-select:none;
    white-space:nowrap;
  }
  [data-theme="light"] .faqPill{ background: rgba(255,255,255,.55); }

  .faqBody{ padding:12px; }

  .faqSearch{
    display:flex;
    gap:10px;
    align-items:center;
    border:1px solid var(--stroke);
    background: rgba(255,255,255,.05);
    border-radius:16px;
    padding:10px 12px;
    margin-bottom:12px;
  }
  .faqSearch span{
    font-size:12px;
    color: var(--muted2);
    white-space:nowrap;
  }
  .faqSearch input{
    width:100%;
    appearance:none;
    border:0;
    outline:none;
    background: transparent;
    color: var(--text);
    font-family: var(--font);
    font-size:13px;
  }
  .faqSearch input::placeholder{ color: var(--muted2); }

  .faqList{ display:grid; gap:10px; }

  .faqItem{
    border:1px solid var(--stroke);
    background: rgba(255,255,255,.05);
    border-radius:18px;
    overflow:hidden;
  }
  .faqBtn{
    width:100%;
    border:0;
    background: transparent;
    color: var(--text);
    padding:12px 12px;
    cursor:pointer;
    display:flex;
    align-items:flex-start;
    justify-content:space-between;
    gap:12px;
    text-align:left;
    font-family: var(--font);
  }
  .faqQ{
    display:flex;
    gap:10px;
    align-items:flex-start;
    min-width:0;
  }
  .faqIcon{
    width:32px; height:32px;
    border-radius:12px;
    display:flex;
    align-items:center;
    justify-content:center;
    border:1px solid var(--stroke);
    background: rgba(0,0,0,.14);
    flex:0 0 auto;
    margin-top:1px;
  }
  [data-theme="light"] .faqIcon{ background: rgba(255,255,255,.55); }

  .faqQText{
    display:flex;
    flex-direction:column;
    gap:3px;
    min-width:0;
  }
  .faqQText b{
    font-size:13px;
    font-weight:1000;
    letter-spacing:.2px;
    line-height:1.25;
  }
  .faqQText small{
    font-size:12px;
    color: var(--muted2);
    line-height:1.25;
  }

  .faqChevron{
    width:38px; height:38px;
    border-radius:14px;
    border:1px solid var(--stroke);
    background: rgba(0,0,0,.12);
    display:flex;
    align-items:center;
    justify-content:center;
    flex:0 0 auto;
    transition: transform .18s ease, background .18s ease, border-color .18s ease;
  }
  [data-theme="light"] .faqChevron{ background: rgba(255,255,255,.55); }

  .faqBtn:hover .faqChevron{
    border-color: rgba(255,255,255,.22);
    background: rgba(255,255,255,.08);
  }
  [data-theme="light"] .faqBtn:hover .faqChevron{
    border-color: rgba(0,0,0,.18);
    background: rgba(0,0,0,.03);
  }

  .faqA{
    max-height: 0;
    overflow:hidden;
    transition: max-height .22s ease;
  }
  .faqAInner{
    padding:0 12px 12px 12px;
    color: var(--muted);
    font-size:12px;
    line-height:1.55;
  }
  .faqAInner p{ margin:10px 0 0 0; }
  .faqAInner ul{ margin:8px 0 0 18px; padding:0; }
  .faqAInner li{ margin:6px 0; }

  .faqItem[data-open="true"] .faqChevron{
    transform: rotate(180deg);
    border-color: rgba(121,226,255,.35);
    background:
      radial-gradient(circle at 30% 30%, rgba(121,226,255,.22), transparent 55%),
      rgba(255,255,255,.06);
  }
  .faqItem[data-open="true"] .faqA{ max-height: 520px; } /* reicht f√ºr normale Antworten */
  @media (prefers-reduced-motion: reduce){
    .faqA{ transition:none; }
    .faqChevron{ transition:none; }
  }

  /* Highlight + "keine Treffer" */
  .faqMark{
    padding:0 2px;
    border-radius:6px;
    background: rgba(255,223,122,.22);
    color: var(--text);
  }
  .faqEmpty{
    border:1px dashed var(--stroke);
    border-radius:18px;
    padding:14px 12px;
    color: var(--muted);
    font-size:12px;
    text-align:center;
  }

  /* JSON-LD output tiny area (optional) */
  .faqMetaRow{
    display:flex;
    gap:10px;
    align-items:center;
    justify-content:space-between;
    flex-wrap:wrap;
    margin-top:12px;
  }
  .faqMiniBtn{
    appearance:none;
    border:1px solid var(--stroke2);
    background: rgba(255,255,255,.06);
    color: var(--text);
    padding:10px 12px;
    border-radius:14px;
    cursor:pointer;
    font-weight:900;
    letter-spacing:.2px;
    display:inline-flex;
    gap:10px;
    align-items:center;
    user-select:none;
    min-height: 44px;
  }
  .faqMiniBtn:hover{
    background: rgba(255,255,255,.10);
    border-color: rgba(255,255,255,.25);
  }
</style>

<!-- Besucher-FAQ f√ºr ‚ÄûM√ºnzwurf Deluxe‚Äú (Accordion im gleichen Look) -->
<!-- Einfach in deine Seite einf√ºgen (z.B. unter den Generator oder in die rechte Spalte). -->
<section class="seoBlock">
  <h2>Was ist ein M√ºnzwerfer?</h2>

  <p>
    Ein <b>M√ºnzwerfer</b> ‚Äì auch bekannt als <b>M√ºnzwurf</b> oder
    <b>Kopf-oder-Zahl-Generator</b> ‚Äì simuliert den klassischen
    Wurf einer echten M√ºnze. Das Ergebnis ist <b>zuf√§llig</b> und
    hilft dabei, Entscheidungen schnell und unkompliziert zu treffen.
  </p>

  <p>
    Unser Online-M√ºnzwerfer funktioniert direkt im Browser,
    ohne Anmeldung und ohne Download.
    Er eignet sich f√ºr Spiele, Alltagssituationen,
    Gruppenentscheidungen oder einfach zum Spa√ü.
  </p>
</section>
	<section class="seoBlock">
  <h2>Wof√ºr kann man einen M√ºnzwurf nutzen?</h2>

  <ul>
    <li>Entscheidungen treffen: <b>Kopf oder Zahl</b></li>
    <li>Spiele und Trinkspiele</li>
    <li>Ja-Nein-Entscheidungen</li>
    <li>Fairen Start in Spielen bestimmen</li>
    <li>Abstimmungen ohne Diskussion</li>
    <li>Zuf√§llige Auswahl bei Gruppen</li>
    <li>Schul-, Lern- oder Mathe√ºbungen</li>
  </ul>

  <p>
    Besonders praktisch: Unser M√ºnzwerfer funktioniert
    auf <b>Handy, Tablet und PC</b> und ist jederzeit verf√ºgbar.
  </p>
</section>
	<p></p>
<section class="faqCard" id="visitorFAQ">
  <div class="faqHead">
    <div class="faqTitleWrap">
      <h2 class="faqTitle">FAQ ‚Äì M√ºnzwurf Deluxe</h2>
      <p class="faqSub">Kurz & verst√§ndlich: So nutzt du den M√ºnzwerfer, was ‚Äûfair‚Äú bedeutet und wie wir mit Daten umgehen.</p>
    </div>
	  <div class="faqTools">
      <div class="faqPill">ü™ô M√ºnzwurf</div>
      <div class="faqPill">üîí Datenschutz</div>
      <div class="faqPill">üì± Mobil</div>
    </div>
    
  </div>

  <div class="faqBody">
    <div class="faqSearch">
      <span>üîé</span>
      <input id="visitorFaqSearch" type="text" placeholder="FAQ durchsuchen (z.B. ‚Äûfair‚Äú, ‚ÄûAuto‚Äú, ‚Äûspeichern‚Äú, ‚ÄûSound‚Äú) ‚Ä¶" />
    </div>

    <div class="faqList" id="visitorFaqList">

      <article class="faqItem" data-open="false" data-tags="m√ºnze werfen benutzen bedienung">
        <button class="faqBtn" type="button" aria-expanded="false">
          <div class="faqQ">
            <div class="faqIcon">ü™ô</div>
            <div class="faqQText">
              <b>Wie benutze ich den M√ºnzwerfer?</b>
              <small>Ein Klick ‚Äì und die M√ºnze entscheidet.</small>
            </div>
          </div>
          <div class="faqChevron">‚åÑ</div>
        </button>
        <div class="faqA" aria-hidden="true">
          <div class="faqAInner">
            <p>Klick oder tippe auf <b>‚ÄûWerfen‚Äú</b>. Du kannst auch <b>Leertaste</b> oder <b>Enter</b> dr√ºcken. Danach erscheint das Ergebnis: <b>Kopf</b> oder <b>Zahl</b>.</p>
          </div>
        </div>
      </article>

      <article class="faqItem" data-open="false" data-tags="fair 50 zufall ehrlich">
        <button class="faqBtn" type="button" aria-expanded="false">
          <div class="faqQ">
            <div class="faqIcon">üé≤</div>
            <div class="faqQText">
              <b>Ist das fair? Was bedeutet ‚Äû50% = fair‚Äú?</b>
              <small>Wenn du echte 50/50 willst: Slider auf 50% lassen.</small>
            </div>
          </div>
          <div class="faqChevron">‚åÑ</div>
        </button>
        <div class="faqA" aria-hidden="true">
          <div class="faqAInner">
            <p>Wenn der Regler auf <b>50%</b> steht, sind Kopf und Zahl gleich wahrscheinlich ‚Äì das ist der faire Modus.</p>
            <p>Wenn du den Regler verstellst (z.B. 70%), wird das Ergebnis absichtlich zugunsten von Kopf beeinflusst. Das ist praktisch, wenn du testen oder ‚Äûcheaten‚Äú willst ‚Äì aber nicht fair.</p>
          </div>
        </div>
      </article>

      <article class="faqItem" data-open="false" data-tags="auto automatisch intervall">
        <button class="faqBtn" type="button" aria-expanded="false">
          <div class="faqQ">
            <div class="faqIcon">‚è±Ô∏è</div>
            <div class="faqQText">
              <b>Was ist der Auto-Modus?</b>
              <small>Automatische W√ºrfe im Zeitintervall.</small>
            </div>
          </div>
          <div class="faqChevron">‚åÑ</div>
        </button>
        <div class="faqA" aria-hidden="true">
          <div class="faqAInner">
            <p>Im <b>Auto-Modus</b> wirft die Seite die M√ºnze automatisch, z.B. alle 2 Sekunden. Du kannst das Intervall einstellen und den Modus jederzeit wieder ausschalten.</p>
          </div>
        </div>
      </article>

      <article class="faqItem" data-open="false" data-tags="statistik quote streak serie">
        <button class="faqBtn" type="button" aria-expanded="false">
          <div class="faqQ">
            <div class="faqIcon">üìä</div>
            <div class="faqQText">
              <b>Wozu sind Statistik, Quote und Streak gut?</b>
              <small>Damit du siehst, wie oft was gefallen ist.</small>
            </div>
          </div>
          <div class="faqChevron">‚åÑ</div>
        </button>
        <div class="faqA" aria-hidden="true">
          <div class="faqAInner">
            <p>Die <b>Statistik</b> z√§hlt deine W√ºrfe und zeigt dein letztes Ergebnis. Die <b>Quote Kopf</b> ist der Anteil von Kopf in Prozent. Eine <b>Streak</b> ist eine Serie gleicher Ergebnisse (z.B. ‚ÄûKopf x5‚Äú).</p>
          </div>
        </div>
      </article>

      <article class="faqItem" data-open="false" data-tags="ergebnis kopieren teilen clipboard">
        <button class="faqBtn" type="button" aria-expanded="false">
          <div class="faqQ">
            <div class="faqIcon">üìã</div>
            <div class="faqQText">
              <b>Wie kann ich ein Ergebnis teilen?</b>
              <small>Mit ‚ÄûErgebnis kopieren‚Äú.</small>
            </div>
          </div>
          <div class="faqChevron">‚åÑ</div>
        </button>
        <div class="faqA" aria-hidden="true">
          <div class="faqAInner">
            <p>Klicke auf <b>‚ÄûErgebnis kopieren‚Äú</b>. Dann kannst du es z.B. in WhatsApp, Discord oder eine Notiz einf√ºgen.</p>
            <p>Hinweis: Manche Browser erlauben Kopieren nur √ºber <b>HTTPS</b> oder blocken es in seltenen F√§llen.</p>
          </div>
        </div>
      </article>

      <article class="faqItem" data-open="false" data-tags="sound ton audio">
        <button class="faqBtn" type="button" aria-expanded="false">
          <div class="faqQ">
            <div class="faqIcon">üîä</div>
            <div class="faqQText">
              <b>Warum h√∂re ich keinen Sound?</b>
              <small>Browser erlauben Ton oft erst nach einem Klick.</small>
            </div>
          </div>
          <div class="faqChevron">‚åÑ</div>
        </button>
        <div class="faqA" aria-hidden="true">
          <div class="faqAInner">
            <p>Viele Browser (vor allem auf dem Handy) aktivieren Audio erst, nachdem du einmal auf der Seite geklickt/getippt hast. Tippe einmal auf <b>‚ÄûWerfen‚Äú</b> ‚Äì danach klappt es meistens.</p>
            <p>Wenn du keinen Sound m√∂chtest: Schalter <b>Sound</b> einfach aus.</p>
          </div>
        </div>
      </article>

      <article class="faqItem" data-open="false" data-tags="vibration haptik">
        <button class="faqBtn" type="button" aria-expanded="false">
          <div class="faqQ">
            <div class="faqIcon">üì≥</div>
            <div class="faqQText">
              <b>Gibt‚Äôs Vibration (Haptik) auf dem Handy?</b>
              <small>Kommt aufs Ger√§t und den Browser an.</small>
            </div>
          </div>
          <div class="faqChevron">‚åÑ</div>
        </button>
        <div class="faqA" aria-hidden="true">
          <div class="faqAInner">
            <p>Wenn dein Ger√§t es unterst√ºtzt, vibriert es kurz beim Flip/Landen. Manche iPhones unterst√ºtzen Vibration im Browser nur eingeschr√§nkt. Du kannst es jederzeit √ºber <b>Haptik</b> ausschalten.</p>
          </div>
        </div>
      </article>

      <article class="faqItem" data-open="false" data-tags="speichern history localstorage datenschutz daten">
        <button class="faqBtn" type="button" aria-expanded="false">
          <div class="faqQ">
            <div class="faqIcon">üîí</div>
            <div class="faqQText">
              <b>Speichert ihr Daten oder trackt ihr mich?</b>
              <small>Nein ‚Äì optional nur lokal im Browser.</small>
            </div>
          </div>
          <div class="faqChevron">‚åÑ</div>
        </button>
        <div class="faqA" aria-hidden="true">
          <div class="faqAInner">
            <p>Der M√ºnzwerfer kann optional deine W√ºrfe und Einstellungen <b>nur auf deinem Ger√§t</b> speichern (LocalStorage), damit beim n√§chsten Besuch alles noch da ist.</p>
            <p>Es werden dabei <b>keine</b> pers√∂nlichen Daten gesammelt oder an einen Server gesendet. Wenn du das nicht willst, schalte <b>‚ÄûHistory speichern‚Äú</b> aus.</p>
          </div>
        </div>
      </article>

      <article class="faqItem" data-open="false" data-tags="reset zur√ºcksetzen l√∂schen">
        <button class="faqBtn" type="button" aria-expanded="false">
          <div class="faqQ">
            <div class="faqIcon">‚Ü∫</div>
            <div class="faqQText">
              <b>Wie setze ich alles zur√ºck?</b>
              <small>Einmal ‚ÄûReset‚Äú ‚Äì und alles ist wieder auf Null.</small>
            </div>
          </div>
          <div class="faqChevron">‚åÑ</div>
        </button>
        <div class="faqA" aria-hidden="true">
          <div class="faqAInner">
            <p>Klicke auf <b>‚ÄûReset‚Äú</b>. Dann werden W√ºrfe, Statistik und Verlauf zur√ºckgesetzt. Wenn du zus√§tzlich das lokale Speichern deaktivierst, bleibt beim n√§chsten Besuch auch nichts erhalten.</p>
          </div>
        </div>
      </article>

      <article class="faqItem" data-open="false" data-tags="mobil handy responsiv klein">
        <button class="faqBtn" type="button" aria-expanded="false">
          <div class="faqQ">
            <div class="faqIcon">üì±</div>
            <div class="faqQText">
              <b>Sieht die Seite auf dem Handy anders aus?</b>
              <small>Ja ‚Äì automatisch optimiert f√ºr kleine Displays.</small>
            </div>
          </div>
          <div class="faqChevron">‚åÑ</div>
        </button>
        <div class="faqA" aria-hidden="true">
          <div class="faqAInner">
            <p>Auf Mobilger√§ten wird alles in <b>eine Spalte</b> umgebaut und die Buttons werden fingerfreundlich gr√∂√üer. Falls etwas komisch wirkt: einmal neu laden oder das Handy drehen.</p>
          </div>
        </div>
      </article>

      <div class="faqEmpty" id="visitorFaqEmpty" style="display:none;">
        Keine Treffer üòÖ ‚Äì versuch mal ‚Äûfair‚Äú, ‚ÄûAuto‚Äú, ‚Äûspeichern‚Äú oder ‚ÄûSound‚Äú.
      </div>
    </div>

    <div class="faqMetaRow">
      <div class="faqPill" id="visitorFaqCountPill">10 Fragen</div>
      <button class="faqMiniBtn" type="button" id="visitorFaqCollapseAll">‚¨ÜÔ∏è Alle einklappen</button>
    </div>
  </div>
</section>

<script>
/* Besucher-FAQ JS ‚Äì Accordion + Suche (ohne Abh√§ngigkeiten) */
(function(){
  const root = document.getElementById("visitorFAQ");
  if(!root) return;

  const search = document.getElementById("visitorFaqSearch");
  const empty  = document.getElementById("visitorFaqEmpty");
  const countPill = document.getElementById("visitorFaqCountPill");
  const btnCollapse = document.getElementById("visitorFaqCollapseAll");

  const items = Array.from(root.querySelectorAll(".faqItem"));

  function setOpen(item, open){
    item.dataset.open = open ? "true" : "false";
    const btn = item.querySelector(".faqBtn");
    const a   = item.querySelector(".faqA");
    if(btn) btn.setAttribute("aria-expanded", open ? "true" : "false");
    if(a)   a.setAttribute("aria-hidden", open ? "false" : "true");
  }

  function closeAll(){
    items.forEach(i => setOpen(i, false));
  }

  function toggleItem(item){
    const isOpen = item.dataset.open === "true";
    setOpen(item, !isOpen);
  }

  // Bind click/keyboard
  items.forEach(item => {
    const btn = item.querySelector(".faqBtn");
    if(!btn) return;

    btn.addEventListener("click", () => toggleItem(item));
    btn.addEventListener("keydown", (e) => {
      if(e.key === "Enter" || e.key === " "){
        e.preventDefault();
        toggleItem(item);
      }
    });
  });

  // Filter
  function applyFilter(q){
    const query = (q || "").trim().toLowerCase();
    let shown = 0;

    items.forEach(item => {
      const tags = (item.getAttribute("data-tags") || "").toLowerCase();
      const text = (item.textContent || "").toLowerCase();

      const match = !query || text.includes(query) || tags.includes(query);
      item.style.display = match ? "" : "none";
      if(match) shown++;
      else setOpen(item, false);
    });

    empty.style.display = shown ? "none" : "";
    countPill.textContent = shown + (shown === 1 ? " Frage" : " Fragen");
  }

  if(search){
    search.addEventListener("input", (e) => applyFilter(e.target.value));
  }

  if(btnCollapse){
    btnCollapse.addEventListener("click", () => {
      closeAll();
      applyFilter(search ? search.value : "");
    });
  }

  // Initial
  countPill.textContent = items.length + " Fragen";
})();
</script>
	<p class="seoFooter">
  Kostenloser M√ºnzwerfer ¬∑ M√ºnzwurf online ¬∑ Kopf oder Zahl Generator ¬∑
  Zufallsgenerator f√ºr Entscheidungen
</p>
	<p class="seoFooter">Powered by <a href="https://gauditz.com">Gauditz.com</a></p>
	<p>&nbsp;</p><p>&nbsp;</p>
</body>
</html>